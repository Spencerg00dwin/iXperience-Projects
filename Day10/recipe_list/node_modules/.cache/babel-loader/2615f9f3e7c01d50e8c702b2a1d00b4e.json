{"ast":null,"code":"var _jsxFileName = \"/Users/spencergoodwin/Documents/iXperience/iXperience-Projects/Day10/recipe_list/src/component/recipes/RecipePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport RecipeInput from './RecipeInput';\nimport RecipeTable from './RecipeTable';\nimport recipeService from '../../services/recipe.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RecipePage() {\n  _s();\n\n  useEffect(() => {\n    fetchRecipes();\n  }, []);\n  const [recipes, setRecipes] = useState([]);\n\n  async function fetchRecipes() {\n    try {\n      const recipes = await recipeService.readRecipe();\n      setRecipes(recipes);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  async function onTaskCreated(recipe) {\n    try {\n      recipe = await recipeService.createRecipe(recipe);\n      const newRecipes = [];\n\n      for (let r of recipes) {\n        newRecipes.push(r);\n      }\n\n      newRecipes.push(recipe);\n      setRecipes(newRecipes);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  async function onRecipeRemove(recipe) {\n    try {\n      await recipeService.deleteRecipe(recipe);\n      const filteredRecipes = recipes.filter(r => {\n        return r.id !== recipe.id;\n      });\n      setRecipes(filteredRecipes);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card card-body text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Grandma's Recipe Book:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Recipes:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RecipeInput, {\n        onTaskCreated: onTaskCreated\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(RecipeTable, {\n        onRecipeRemove: onRecipeRemove,\n        recipes: recipes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RecipePage, \"N7Cfu/3dQEnyg/wQzThDog2JBco=\");\n\n_c = RecipePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipePage\");","map":{"version":3,"names":["React","useState","useEffect","RecipeInput","RecipeTable","recipeService","RecipePage","fetchRecipes","recipes","setRecipes","readRecipe","err","console","log","onTaskCreated","recipe","createRecipe","newRecipes","r","push","onRecipeRemove","deleteRecipe","filteredRecipes","filter","id"],"sources":["/Users/spencergoodwin/Documents/iXperience/iXperience-Projects/Day10/recipe_list/src/component/recipes/RecipePage.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\n\nimport RecipeInput from './RecipeInput'\nimport RecipeTable from './RecipeTable'\n\nimport recipeService from '../../services/recipe.service'\n\nexport default function RecipePage() {\n\nuseEffect(()=> {\n  fetchRecipes()\n}, [])\n\n  const [recipes, setRecipes] = useState([])\n\n  async function fetchRecipes(){\n    try{\n      const recipes = await recipeService.readRecipe()\n      setRecipes(recipes)\n    } catch(err){\n      console.log(err)\n    }\n  }\n\n  async function onTaskCreated(recipe){\n    try{\n      recipe = await recipeService.createRecipe(recipe)\n      const newRecipes = []\n      for (let r of recipes) {newRecipes.push(r)}\n      newRecipes.push(recipe)\n\n      setRecipes(newRecipes)\n    } catch(err){\n      console.log(err)\n    }\n  }\n\n\n\n  async function onRecipeRemove(recipe){\n    try{\n      await recipeService.deleteRecipe(recipe)\n\n    const filteredRecipes = recipes.filter((r) => {\n      return r.id !== recipe.id\n    })\n    setRecipes(filteredRecipes)\n    } catch(err){\n      console.log(err)\n    }\n  }\n\n  return (\n\n    <div className='container mt-4'>\n      <div className='card card-body text-center'>\n\n        <h1>Grandma's Recipe Book:</h1>\n        <hr></hr>\n        <div>Recipes:</div>\n\n      <RecipeInput onTaskCreated={onTaskCreated}></RecipeInput>\n\n      <RecipeTable onRecipeRemove={onRecipeRemove} recipes={recipes}></RecipeTable>\n\n      </div>\n\n    </div>\n\n  )\n}\n\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAEA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAOC,aAAP,MAA0B,+BAA1B;;AAEA,eAAe,SAASC,UAAT,GAAsB;EAAA;;EAErCJ,SAAS,CAAC,MAAK;IACbK,YAAY;EACb,CAFQ,EAEN,EAFM,CAAT;EAIE,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;;EAEA,eAAeM,YAAf,GAA6B;IAC3B,IAAG;MACD,MAAMC,OAAO,GAAG,MAAMH,aAAa,CAACK,UAAd,EAAtB;MACAD,UAAU,CAACD,OAAD,CAAV;IACD,CAHD,CAGE,OAAMG,GAAN,EAAU;MACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD;EACF;;EAED,eAAeG,aAAf,CAA6BC,MAA7B,EAAoC;IAClC,IAAG;MACDA,MAAM,GAAG,MAAMV,aAAa,CAACW,YAAd,CAA2BD,MAA3B,CAAf;MACA,MAAME,UAAU,GAAG,EAAnB;;MACA,KAAK,IAAIC,CAAT,IAAcV,OAAd,EAAuB;QAACS,UAAU,CAACE,IAAX,CAAgBD,CAAhB;MAAmB;;MAC3CD,UAAU,CAACE,IAAX,CAAgBJ,MAAhB;MAEAN,UAAU,CAACQ,UAAD,CAAV;IACD,CAPD,CAOE,OAAMN,GAAN,EAAU;MACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD;EACF;;EAID,eAAeS,cAAf,CAA8BL,MAA9B,EAAqC;IACnC,IAAG;MACD,MAAMV,aAAa,CAACgB,YAAd,CAA2BN,MAA3B,CAAN;MAEF,MAAMO,eAAe,GAAGd,OAAO,CAACe,MAAR,CAAgBL,CAAD,IAAO;QAC5C,OAAOA,CAAC,CAACM,EAAF,KAAST,MAAM,CAACS,EAAvB;MACD,CAFuB,CAAxB;MAGAf,UAAU,CAACa,eAAD,CAAV;IACC,CAPD,CAOE,OAAMX,GAAN,EAAU;MACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD;EACF;;EAED,oBAEE;IAAK,SAAS,EAAC,gBAAf;IAAA,uBACE;MAAK,SAAS,EAAC,4BAAf;MAAA,wBAEE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAA;QAAA;QAAA;MAAA,QAHF,eAIE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF,eAMA,QAAC,WAAD;QAAa,aAAa,EAAEG;MAA5B;QAAA;QAAA;QAAA;MAAA,QANA,eAQA,QAAC,WAAD;QAAa,cAAc,EAAEM,cAA7B;QAA6C,OAAO,EAAEZ;MAAtD;QAAA;QAAA;QAAA;MAAA,QARA;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QAFF;AAkBD;;GA/DuBF,U;;KAAAA,U"},"metadata":{},"sourceType":"module"}